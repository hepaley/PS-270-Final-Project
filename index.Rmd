---
title: "PS270 Final Project"
author: Hannah Paley 
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---


## Introduction 

Does personally knowing someone who has had an abortion impact an individual's stance on abortion? Within this study I am  look at whether knowing or not knowing someone who has had an abortion impacts how an individual views abortion legislation. I hypothesize that personally knowing someone who has had an abortion will positively correlate to somewhat or strongly opposing anti-abortion or anti-contraception legislation. I believe that being personally connected to someone who has had an abortion makes it more likely that an individual will support legislation that increases abortion access. Having this personal connection to abortion may make it so people feel the issue is "closer" to them than those who do not have a personal connection to abortion. My data sample is based off of a web-survey measuring individual abortion attitudes between February 23, 2024 - February 25, 2024. My unit of analysis is an individual person. The explanatory variable of interest is whether or not a surveyed individual knows someone who has had an abortion. The variable is coded as yes, yes, I have, or yes I know someone if the individual knows someone who has had an abortion, or no if the individual does not someone who has had an abortion. My outcome variable is whether an individual strongly supports, somewhat supports, somewhat opposes, or strongly opposes a nationwide ban on abortion at 16 weeks of pregnancy. If I observe more "strongly opposes" and "somewhat opposes" than other responses regarding my outcome variable (going in a more negative direction), this would support my hypothesis. Conversely, if I observe more "strongly supports" and "somewhat supports" (going in a positive direction) than other responses regarding my outcome variable, this would go against my hypothesis. A positive correlation between strongly or somewhat opposing anti-abortion legislation and knowing someone who has had an abortion would indicate support for my hypothesis. 

## Data 
Both the independent (connection to abortion) and dependent variables (legislation response) were measured by a web-based survey produced by The Roper Center.
```{r}
library(tidyverse)
abortions <- read_csv("Data/Final Project Data.csv")

a_attitudes <- abortions |> group_by(...13) |> summarize(n = n()) 
a_attitudes
a_attitudes <- a_attitudes |> 
filter(...13 != "BNE2_2") 
ggplot(data = a_attitudes, 
       mapping = aes(x = ...13, y = n)) + geom_col() + 
  theme(panel.background = element_blank()) + 
  labs(x = "Response to Sixteen Week Abortion Ban", 
       y = "Number of Responses", title = "Legislation Response",
       caption = 
         "Roper Abortion Attitudes / Alabama Supreme Court")
```

## Analysis of Data
```{r}

abortions_yes <-
  abortions |> mutate( yes = ...17 == "Yes" | 
                         ...17 == "Yes, I have" |
                         ...17 == "Yes, I know someone") |> filter(yes)

abortions_yes |> select(...17, ...13) |> 
  group_by(...13) |> 
  summarize(n = n()) |>
  mutate(prop = n/sum(n)) |> 
  knitr::kable(col.names = c("Abortion Ban at 16 Weeks", 
      "Number of Answers", 
      "Prop. of Answers "), 
caption = "Responses To Abortion Ban By 
Those Who Know Someone Who Has Had An Abortion")

```
```{r}
abortions_no <- abortions |> filter(...17 == "No")
abortions_no
abortions_no |> select(...17, ...13) |>
  group_by(...13) |>
  summarize(n = n()) |>
  mutate(prop = n/sum(n)) |> 
  knitr::kable(col.names = c("Abortion Ban at 16 Weeks",
         "Number of Answers", 
         "Prop. of Answers "), 
      caption = "Responses To Abortion Ban By Those Who Don't Know Someone Who Has Had An Abortion")
```

Looking at both of the above tables, there seems to be a difference in the proportion of individuals who strongly oppose a 16-week abortion ban between those who know someone who has had an abortion and those who don't. There is a higher proportion of individuals who strongly oppose an abortion ban among those who know someone who has had an abortion in comparison to individuals who do not. This points to a possible correlation between knowing someone who has had an abortion and being against an abortion ban. I will look into this further by running a linear regression and recoding the variables of interest.

## Results
```{r}
abortionsp <- abortionsp |> mutate(...17new = if_else(...17=="Yes" | ...17 == "Yes, I have" | ...17 == "Yes, I know someone", 1, 0)) |> 
  filter(...13 != "BNE2_2") |> 
  filter(...13 != "Skipped") |>  
  mutate(...13new = case_when(...13 == "Strongly oppose" ~ 1, ...13 == "Somewhat oppose"~ 2, ...13 == "Somewhat support" ~ 3, ...13 == "Strongly support" ~ 4)) 

ggplot(abortionsp, aes(x = ...17new, y = ...13new)) + geom_point(colour = "blue", alpha = .1)+ stat_smooth(method = lm, colour = "red") + labs( x = "Connection to Abortion", y = "Legislation Response", title = "Impact of Abortion on Legislation Preference", caption = "Roper Abortion Attitudes / Alabama Supreme Court")
```


## Finding the P Value 
```{r}
library(infer)

abortions
abortionsp <-
  abortions |> filter(...17 != "BNE3_2") |> filter(...17 != "Prefer not to answer") |> filter(...17 != "Skipped")


abortionsp <- abortionsp |> 
  filter(...13 != "BNE2_2") |> 
  filter(...13 != "Skipped") |> mutate(...17new = if_else(...17=="Yes" | ...17 == "Yes, I have" | ...17 == "Yes, I know someone", 1, 0)) |>
  mutate(...13new = case_when(...13 == "Strongly oppose" ~ 1, ...13 == "Somewhat oppose"~ 2, ...13 == "Somewhat support" ~ 3, ...13 == "Strongly support" ~ 4)) 

abortionsp |> select(...13new, ...17new)
abortion_ate <- lm(...13new ~ ...17new, data = abortionsp)  
abortion_ate
modelsummary::modelsummary(abortion_ate,
                           statistic = c("s.e. = {std.error}",
                                         "p = {p.value}"),
                           gof_map = c("nobs", "r.squared", "adj.r.squared"))


```
```

  As you increase ...17 by 1, aka, as there is a shift from not knowing anyone who has an abortion to knowing someone who has had an abortion, ...13 decreases by about .290 (the coefficient), meaning attitudes about an abortion ban at 16 weeks get more negative and move in the direction of strongly oppose (1). As stated in my initial hypothesis, a negative coefficient shows that there is a negative correlation between knowing someone who has had an abortion and supporting a 16-week abortion ban. 
  
## Conclusion 